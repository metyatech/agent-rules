# Engineering and implementation standards

- Prefer official/standard framework/tooling approaches.
- Prefer well-maintained dependencies; build in-house only when no suitable option exists.
- Prefer third-party tools/services over custom implementations; prefer OSS/free-tier when feasible and call out tradeoffs.
- PowerShell: `\` is literal (not escape); avoid shadowing auto variables (`$args`, `$PID`); avoid double-quoted `-Command` strings (prefer `-File`, single quotes, or here-strings).
- If functionality is reusable, assess reuse first and propose shared module/repo; prefer remote dependencies (never local paths).
- Maintainability > testability > extensibility > readability.
- Single responsibility; composition over inheritance; clean dependency direction; no global mutable state.
- Avoid deep nesting; guard clauses and small functions; clear intention-revealing names; no "Utils" dumping grounds.
- Prefer config/constants over hardcoding; consolidate change points.
- For GUI: prioritize ergonomics/discoverability, include in-app guidance for all components, prefer established design systems (Material, shadcn/ui, Fluent).
- Keep DRY across code/specs/docs/tests/config/scripts; refactor repeated procedures into shared config with local overrides.
- Fix root causes; remove obsolete/unused code/branches/comments; repair user-controlled tools at source, not via workarounds.
- Ensure failure/cancellation paths tear down allocated resources; no partial state.
- Do not block inside async APIs; avoid synchronous I/O where responsiveness is expected.
- Avoid external command execution; prefer native SDKs. If unavoidable: absolute paths, safe argument handling, strict validation.
- Prefer stable public APIs; isolate/document unavoidable internal API usage.
- Externalize large embedded strings/templates/rules.
- Do not commit build artifacts (respect `.gitignore`); keep file/folder naming aligned and consistent.
- Do not assume machine-specific environments; use repo-relative paths and explicit configuration.
- Agent temp files MUST stay under OS temp unless requester approves.
- For agent-facing tools/services, design for cross-agent compatibility via standard interfaces (CLI, HTTP, stdin/stdout, MCP).
- After manifest changes, regenerate and commit corresponding lock files in the same commit.
